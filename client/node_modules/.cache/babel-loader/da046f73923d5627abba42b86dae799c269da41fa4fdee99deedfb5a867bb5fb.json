{"ast":null,"code":"var _jsxFileName = \"C:\\\\Desktop\\\\live-polling-system\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\n\n// Components\nimport WelcomeScreen from './components/WelcomeScreen';\nimport TeacherSetup from './components/TeacherSetup';\nimport StudentSetup from './components/StudentSetup';\nimport TeacherInterface from './components/TeacherInterface';\nimport StudentInterface from './components/StudentInterface';\nimport WaitingScreen from './components/WaitingScreen';\nimport KickedOutScreen from './components/KickedOutScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentScreen, setCurrentScreen] = useState('welcome');\n  const [userType, setUserType] = useState(null);\n  const [userName, setUserName] = useState('');\n  const [sessionId, setSessionId] = useState('default-session');\n  const [socket, setSocket] = useState(null);\n  const [sessionState, setSessionState] = useState(null);\n  const [isKickedOut, setIsKickedOut] = useState(false);\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:5000';\n    const newSocket = io(serverUrl);\n    setSocket(newSocket);\n\n    // Handle session state updates\n    newSocket.on('session-state', state => {\n      setSessionState(state);\n    });\n\n    // Handle new poll\n    newSocket.on('new-poll', poll => {\n      setSessionState(prev => ({\n        ...prev,\n        currentPoll: poll\n      }));\n    });\n\n    // Handle poll updates\n    newSocket.on('poll-update', data => {\n      setSessionState(prev => ({\n        ...prev,\n        currentPoll: data.poll,\n        students: data.students\n      }));\n    });\n\n    // Handle poll ended\n    newSocket.on('poll-ended', poll => {\n      setSessionState(prev => ({\n        ...prev,\n        currentPoll: poll\n      }));\n    });\n\n    // Handle new chat message\n    newSocket.on('new-message', message => {\n      setSessionState(prev => ({\n        ...prev,\n        chatMessages: [...(prev.chatMessages || []), message]\n      }));\n    });\n\n    // Handle user joined\n    newSocket.on('user-joined', data => {\n      setSessionState(prev => ({\n        ...prev,\n        students: data.students\n      }));\n    });\n\n    // Handle user left\n    newSocket.on('user-left', data => {\n      setSessionState(prev => ({\n        ...prev,\n        students: data.students\n      }));\n    });\n\n    // Handle student kicked\n    newSocket.on('student-kicked', data => {\n      setSessionState(prev => ({\n        ...prev,\n        students: data.students\n      }));\n    });\n\n    // Handle kicked out\n    newSocket.on('kicked-out', () => {\n      setIsKickedOut(true);\n      setCurrentScreen('kicked-out');\n    });\n    return () => newSocket.close();\n  }, []);\n  const handleRoleSelection = role => {\n    setUserType(role);\n    if (role === 'teacher') {\n      setCurrentScreen('teacher-setup');\n    } else {\n      setCurrentScreen('student-setup');\n    }\n  };\n  const handleTeacherSetup = name => {\n    setUserName(name);\n    setCurrentScreen('teacher-interface');\n    if (socket) {\n      socket.emit('join-session', {\n        sessionId,\n        userType: 'teacher',\n        userName: name\n      });\n    }\n  };\n  const handleStudentSetup = name => {\n    setUserName(name);\n    setCurrentScreen('student-interface');\n    if (socket) {\n      socket.emit('join-session', {\n        sessionId,\n        userType: 'student',\n        userName: name\n      });\n    }\n  };\n  const renderCurrentScreen = () => {\n    if (isKickedOut) {\n      return /*#__PURE__*/_jsxDEV(KickedOutScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 14\n      }, this);\n    }\n    switch (currentScreen) {\n      case 'welcome':\n        return /*#__PURE__*/_jsxDEV(WelcomeScreen, {\n          onRoleSelection: handleRoleSelection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 16\n        }, this);\n      case 'teacher-setup':\n        return /*#__PURE__*/_jsxDEV(TeacherSetup, {\n          onSetup: handleTeacherSetup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }, this);\n      case 'student-setup':\n        return /*#__PURE__*/_jsxDEV(StudentSetup, {\n          onSetup: handleStudentSetup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 16\n        }, this);\n      case 'teacher-interface':\n        return /*#__PURE__*/_jsxDEV(TeacherInterface, {\n          socket: socket,\n          userName: userName,\n          sessionState: sessionState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this);\n      case 'student-interface':\n        if (!(sessionState !== null && sessionState !== void 0 && sessionState.currentPoll)) {\n          return /*#__PURE__*/_jsxDEV(WaitingScreen, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 18\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(StudentInterface, {\n          socket: socket,\n          userName: userName,\n          sessionState: sessionState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(WelcomeScreen, {\n          onRoleSelection: handleRoleSelection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: renderCurrentScreen()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"/ATVLS+XpqN5acTER8AiPkbM3DY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","WelcomeScreen","TeacherSetup","StudentSetup","TeacherInterface","StudentInterface","WaitingScreen","KickedOutScreen","jsxDEV","_jsxDEV","App","_s","currentScreen","setCurrentScreen","userType","setUserType","userName","setUserName","sessionId","setSessionId","socket","setSocket","sessionState","setSessionState","isKickedOut","setIsKickedOut","serverUrl","process","env","REACT_APP_SERVER_URL","newSocket","on","state","poll","prev","currentPoll","data","students","message","chatMessages","close","handleRoleSelection","role","handleTeacherSetup","name","emit","handleStudentSetup","renderCurrentScreen","fileName","_jsxFileName","lineNumber","columnNumber","onRoleSelection","onSetup","className","children","_c","$RefreshReg$"],"sources":["C:/Desktop/live-polling-system/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\n\n// Components\nimport WelcomeScreen from './components/WelcomeScreen';\nimport TeacherSetup from './components/TeacherSetup';\nimport StudentSetup from './components/StudentSetup';\nimport TeacherInterface from './components/TeacherInterface';\nimport StudentInterface from './components/StudentInterface';\nimport WaitingScreen from './components/WaitingScreen';\nimport KickedOutScreen from './components/KickedOutScreen';\n\nfunction App() {\n  const [currentScreen, setCurrentScreen] = useState('welcome');\n  const [userType, setUserType] = useState(null);\n  const [userName, setUserName] = useState('');\n  const [sessionId, setSessionId] = useState('default-session');\n  const [socket, setSocket] = useState(null);\n  const [sessionState, setSessionState] = useState(null);\n  const [isKickedOut, setIsKickedOut] = useState(false);\n\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:5000';\n    const newSocket = io(serverUrl);\n    setSocket(newSocket);\n\n    // Handle session state updates\n    newSocket.on('session-state', (state) => {\n      setSessionState(state);\n    });\n\n    // Handle new poll\n    newSocket.on('new-poll', (poll) => {\n      setSessionState(prev => ({ ...prev, currentPoll: poll }));\n    });\n\n    // Handle poll updates\n    newSocket.on('poll-update', (data) => {\n      setSessionState(prev => ({ ...prev, currentPoll: data.poll, students: data.students }));\n    });\n\n    // Handle poll ended\n    newSocket.on('poll-ended', (poll) => {\n      setSessionState(prev => ({ ...prev, currentPoll: poll }));\n    });\n\n    // Handle new chat message\n    newSocket.on('new-message', (message) => {\n      setSessionState(prev => ({\n        ...prev,\n        chatMessages: [...(prev.chatMessages || []), message]\n      }));\n    });\n\n    // Handle user joined\n    newSocket.on('user-joined', (data) => {\n      setSessionState(prev => ({ ...prev, students: data.students }));\n    });\n\n    // Handle user left\n    newSocket.on('user-left', (data) => {\n      setSessionState(prev => ({ ...prev, students: data.students }));\n    });\n\n    // Handle student kicked\n    newSocket.on('student-kicked', (data) => {\n      setSessionState(prev => ({ ...prev, students: data.students }));\n    });\n\n    // Handle kicked out\n    newSocket.on('kicked-out', () => {\n      setIsKickedOut(true);\n      setCurrentScreen('kicked-out');\n    });\n\n    return () => newSocket.close();\n  }, []);\n\n  const handleRoleSelection = (role) => {\n    setUserType(role);\n    if (role === 'teacher') {\n      setCurrentScreen('teacher-setup');\n    } else {\n      setCurrentScreen('student-setup');\n    }\n  };\n\n  const handleTeacherSetup = (name) => {\n    setUserName(name);\n    setCurrentScreen('teacher-interface');\n    if (socket) {\n      socket.emit('join-session', {\n        sessionId,\n        userType: 'teacher',\n        userName: name\n      });\n    }\n  };\n\n  const handleStudentSetup = (name) => {\n    setUserName(name);\n    setCurrentScreen('student-interface');\n    if (socket) {\n      socket.emit('join-session', {\n        sessionId,\n        userType: 'student',\n        userName: name\n      });\n    }\n  };\n\n  const renderCurrentScreen = () => {\n    if (isKickedOut) {\n      return <KickedOutScreen />;\n    }\n\n    switch (currentScreen) {\n      case 'welcome':\n        return <WelcomeScreen onRoleSelection={handleRoleSelection} />;\n      \n      case 'teacher-setup':\n        return <TeacherSetup onSetup={handleTeacherSetup} />;\n      \n      case 'student-setup':\n        return <StudentSetup onSetup={handleStudentSetup} />;\n      \n      case 'teacher-interface':\n        return (\n          <TeacherInterface\n            socket={socket}\n            userName={userName}\n            sessionState={sessionState}\n          />\n        );\n      \n      case 'student-interface':\n        if (!sessionState?.currentPoll) {\n          return <WaitingScreen />;\n        }\n        return (\n          <StudentInterface\n            socket={socket}\n            userName={userName}\n            sessionState={sessionState}\n          />\n        );\n      \n      default:\n        return <WelcomeScreen onRoleSelection={handleRoleSelection} />;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {renderCurrentScreen()}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}